# Windows è¢«æ§ç«¯é™é»˜æ¨¡å¼é…ç½®æ–¹æ¡ˆ

## æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | é€‚ç”¨åœºæ™¯ | çµæ´»æ€§ | æ¨èåº¦ |
|------|---------|--------|--------|
| æ–¹æ¡ˆ1: custom.txt | ç¼–è¯‘å‰é¢„è®¾ï¼Œå®‰è£…å³ç”¨ | â­â­â­â­â­ | âœ… æœ€ä½³ |
| æ–¹æ¡ˆ2: ä»£ç ç¡¬ç¼–ç  | ä¸“ç”¨ç‰ˆæœ¬ï¼Œå®Œå…¨å›ºå®š | â­â­â­ | ğŸŸ¡ å¯é€‰ |
| æ–¹æ¡ˆ3: å®‰è£…åé…ç½® | æ‰‹åŠ¨é…ç½® | â­â­ | âš ï¸ ä¸æ¨è |

---

## âœ… æ–¹æ¡ˆ1: custom.txt é…ç½®ï¼ˆæ¨èï¼‰

### ä¼˜åŠ¿
- âœ… æ— éœ€ä¿®æ”¹ä»£ç 
- âœ… ç¼–è¯‘å‰é…ç½®ï¼Œå®‰è£…å³ç”¨
- âœ… æ”¯æŒåŠ å¯†ç­¾åï¼Œå®‰å…¨å¯æ§
- âœ… å¯åŠ¨æ€è°ƒæ•´é…ç½®æ— éœ€é‡æ–°ç¼–è¯‘

### å®æ–½æ­¥éª¤

#### 1. åˆ›å»ºé…ç½® JSON æ–‡ä»¶
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `custom_config.json`ï¼š

```json
{
  "app-name": "YourAppName",
  "default-settings": {
    "access-mode": "full",
    "approve-mode": "password"
  }
}
```

#### 2. ç”Ÿæˆç­¾åé…ç½®ï¼ˆéœ€è¦å¯†é’¥ï¼‰
ä½¿ç”¨ RustDesk æä¾›çš„ç­¾åå·¥å…·ç”Ÿæˆ `custom.txt`ï¼š

```bash
# æ³¨æ„ï¼šéœ€è¦å¯¹åº”çš„ç§é’¥è¿›è¡Œç­¾å
# å…¬é’¥å·²åœ¨ä»£ç ä¸­ï¼š5Qbwsde3unUcJBtrx9ZkvUmwFNoExHzpryHuPUdqlWM=
```

#### 3. æ”¾ç½®é…ç½®æ–‡ä»¶
å°† `custom.txt` æ–‡ä»¶æ”¾ç½®åœ¨å¯æ‰§è¡Œæ–‡ä»¶åŒç›®å½•ï¼š
- Windows: `rustdesk.exe` æ‰€åœ¨ç›®å½•
- macOS: `RustDesk.app/Contents/Resources/`

#### 4. é…ç½®é€‰é¡¹è¯´æ˜

**å®Œæ•´é™é»˜æ¨¡å¼ï¼ˆæ— äººå€¼å®ˆï¼‰ï¼š**
```json
{
  "default-settings": {
    "access-mode": "full"
  }
}
```

**å¯†ç éªŒè¯æ¨¡å¼ï¼ˆä¿ç•™ä¸€å®šå®‰å…¨æ€§ï¼‰ï¼š**
```json
{
  "default-settings": {
    "access-mode": "view",
    "approve-mode": "password"
  }
}
```

**å¯é…ç½®çš„é€‰é¡¹åŒ…æ‹¬ï¼š**
- `access-mode`: `"full"` | `"view"` (å®Œå…¨æ§åˆ¶ | ä»…æŸ¥çœ‹)
- `approve-mode`: `"password"` | `"click"` | `"password-click"`
- `enable-keyboard`: `"Y"` | `"N"`
- `enable-clipboard`: `"Y"` | `"N"`
- `enable-file-transfer`: `"Y"` | `"N"`

---

## ğŸŸ¡ æ–¹æ¡ˆ2: ä»£ç ç¡¬ç¼–ç é»˜è®¤å€¼ï¼ˆå¯é€‰ï¼‰

å¦‚æœæ— æ³•ä½¿ç”¨ custom.txtï¼ˆæ— ç­¾åå¯†é’¥ï¼‰ï¼Œå¯ä»¥ä¿®æ”¹ä»£ç è®¾ç½®é»˜è®¤å€¼ã€‚

### å®æ–½æ­¥éª¤

#### 1. æ·»åŠ é»˜è®¤é…ç½®æ¨¡å—
å·²åˆ›å»º `src/default_config.rs` æ–‡ä»¶ï¼ŒåŒ…å«é¢„è®¾é…ç½®å‡½æ•°ã€‚

#### 2. åœ¨å¯åŠ¨æ—¶è°ƒç”¨é…ç½®
ä¿®æ”¹ `src/core_main.rs`ï¼Œåœ¨ `common_main` å‡½æ•°ä¸­æ·»åŠ ï¼š

```rust
// åœ¨ load_custom_client() ä¹‹åæ·»åŠ 
#[cfg(feature = "default_config")]
crate::default_config::set_enterprise_unattended_mode();
```

#### 3. å¯ç”¨é…ç½®åŠŸèƒ½
åœ¨ `src/lib.rs` ä¸­æ·»åŠ æ¨¡å—å£°æ˜ï¼š

```rust
#[cfg(feature = "default_config")]
pub mod default_config;
```

#### 4. ç¼–è¯‘æ—¶å¯ç”¨
```bash
cargo build --release --features default_config
```

### å¯é€‰çš„é¢„è®¾é…ç½®å‡½æ•°

åœ¨ `src/default_config.rs` ä¸­æä¾›äº†ä»¥ä¸‹å‡½æ•°ï¼š

- `set_full_access_mode()` - å®Œå…¨é™é»˜æ¨¡å¼
- `set_password_auth_mode()` - å¯†ç éªŒè¯æ¨¡å¼
- `set_enterprise_unattended_mode()` - ä¼ä¸šæ— äººå€¼å®ˆæ¨¡å¼ï¼ˆæ¨èï¼‰

å–æ¶ˆç›¸åº”å‡½æ•°çš„æ³¨é‡Šå³å¯å¯ç”¨ã€‚

---

## âš ï¸ æ–¹æ¡ˆ3: å®‰è£…åæ‰‹åŠ¨é…ç½®ï¼ˆä¸æ¨èï¼‰

ä»…åœ¨æ— æ³•ä½¿ç”¨å‰ä¸¤ç§æ–¹æ¡ˆæ—¶è€ƒè™‘ï¼š

1. å®‰è£…å®Œæˆåï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶
2. Windows é…ç½®æ–‡ä»¶ä½ç½®ï¼š`%APPDATA%\RustDesk\config\RustDesk2.toml`
3. æ‰‹åŠ¨æ·»åŠ é…ç½®é¡¹

---

## ğŸ”§ å®Œæ•´å®æ–½æ–¹æ¡ˆï¼ˆæ¨èæµç¨‹ï¼‰

### æ­¥éª¤1: å‡†å¤‡é…ç½®æ–‡ä»¶ï¼ˆæ–¹æ¡ˆ1ï¼‰

1. å¤åˆ¶ `custom_config_example.json` å¹¶ä¿®æ”¹ï¼š

```json
{
  "app-name": "YourCompanyRustDesk",
  "default-settings": {
    "access-mode": "full"
  }
}
```

2. è”ç³» RustDesk å®˜æ–¹è·å–ç­¾åå·¥å…·ï¼Œç”Ÿæˆ `custom.txt`

### æ­¥éª¤2: ä¿®æ”¹ä»£ç ï¼ˆå·²å®Œæˆï¼‰

âœ… å·²æ·»åŠ  Windows æ—  UI æ¨¡å¼æ”¯æŒï¼š

```rust
// src/server/connection.rs
#[cfg(target_os = "windows")]
{
    args = vec!["--cm-no-ui"];
}
```

### æ­¥éª¤3: ç¼–è¯‘

```bash
# Windows ç¼–è¯‘
python build.py --portable --skip-flutter

# æˆ–ä½¿ç”¨ cargo ç›´æ¥ç¼–è¯‘
cargo build --release
```

### æ­¥éª¤4: éƒ¨ç½²

1. å°† `custom.txt` æ”¾åˆ° `rustdesk.exe` åŒç›®å½•
2. é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åŠ è½½é…ç½®
3. è®¾ç½®å›ºå®šå¯†ç ï¼ˆå¦‚éœ€è¦ï¼‰

### æ­¥éª¤5: éªŒè¯

è¿æ¥æµ‹è¯•ç¡®è®¤ï¼š
- âœ… ä¸å¼¹å‡º CM çª—å£
- âœ… å¯†ç éªŒè¯åè‡ªåŠ¨æˆæƒ
- âœ… æ— éœ€ç‚¹å‡»ç¡®è®¤

---

## ğŸ“‹ é…ç½®é€‰é¡¹å®Œæ•´åˆ—è¡¨

### è®¿é—®æ§åˆ¶
- `access-mode`: `full` | `view` - å®Œå…¨æ§åˆ¶æˆ–ä»…æŸ¥çœ‹
- `approve-mode`: `password` | `click` | `password-click` - æˆæƒæ–¹å¼

### åŠŸèƒ½å¼€å…³
- `enable-keyboard`: `Y` | `N` - é”®ç›˜æ§åˆ¶
- `enable-clipboard`: `Y` | `N` - å‰ªè´´æ¿
- `enable-file-transfer`: `Y` | `N` - æ–‡ä»¶ä¼ è¾“
- `enable-audio`: `Y` | `N` - éŸ³é¢‘ä¼ è¾“
- `enable-record-session`: `Y` | `N` - ä¼šè¯å½•åˆ¶

### æ€§èƒ½é€‰é¡¹
- `enable-hwcodec`: `Y` | `N` - ç¡¬ä»¶ç¼–ç 
- `image-quality`: `low` | `balanced` | `best` - å›¾åƒè´¨é‡

### å®‰å…¨é€‰é¡¹
- `enable-check-update`: `Y` | `N` - è‡ªåŠ¨æ›´æ–°æ£€æŸ¥
- `direct-server`: `Y` | `N` - ç›´è¿æœåŠ¡å™¨

---

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

### ä¿¡ä»»ç¯å¢ƒï¼ˆå†…ç½‘ï¼‰
```json
{
  "default-settings": {
    "access-mode": "full",
    "approve-mode": "password"
  }
}
```

### å…¬ç½‘ç¯å¢ƒ
```json
{
  "default-settings": {
    "access-mode": "view",
    "approve-mode": "password-click"
  }
}
```

### æœ€ä½³å®è·µ
1. âœ… ä½¿ç”¨å¼ºå¯†ç 
2. âœ… å®šæœŸæ›´æ–°å¯†ç 
3. âœ… é™åˆ¶è®¿é—® IPï¼ˆå¦‚å¯èƒ½ï¼‰
4. âœ… å¯ç”¨æ—¥å¿—å®¡è®¡
5. âœ… å†…ç½‘éƒ¨ç½²è‡ªå»ºæœåŠ¡å™¨

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæ— äººå€¼å®ˆæ¨¡å¼ï¼‰

### æœ€ç®€é…ç½®

åˆ›å»º `custom_config.json`ï¼š
```json
{
  "default-settings": {
    "access-mode": "full"
  }
}
```

ç”Ÿæˆ `custom.txt` â†’ æ”¾åˆ°ç¨‹åºç›®å½• â†’ ç¼–è¯‘ â†’ éƒ¨ç½² â†’ å®Œæˆï¼

### é¢„æœŸæ•ˆæœ
- âœ… è¢«æ§ç«¯å®‰è£…åæ— éœ€ä»»ä½•é…ç½®
- âœ… ä¸»æ§ç«¯è¿æ¥æ—¶è¾“å…¥å¯†ç å³å¯
- âœ… æ— ä»»ä½•å¼¹çª—å’Œç¡®è®¤æé†’
- âœ… çœŸæ­£çš„æ— äººå€¼å®ˆä½“éªŒ
