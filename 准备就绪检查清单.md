# 准备就绪检查清单

## ✅ 开始 GitHub Actions 编译前的检查

### 第一部分：代码修改确认

- [x] `src/default_config.rs` 文件已创建
  - [x] 包含服务器配置（39.97.50.6）
  - [x] 包含密码配置（28b5hD8S26）
  - [x] 包含无人值守模式配置

- [x] `src/lib.rs` 已修改
  - [x] 添加了 `pub mod default_config;`

- [x] `src/core_main.rs` 已修改
  - [x] 添加了配置初始化调用

- [x] `Cargo.toml` 已修改
  - [x] 添加了 `default_config = []` feature

- [x] `src/server/connection.rs` 已修改
  - [x] 添加了 Windows `--cm-no-ui` 支持

### 第二部分：GitHub Actions 配置

- [x] `.github/workflows/custom-build.yml` 文件已创建
  - [x] Windows 编译任务已配置
  - [x] Linux 编译任务已配置（可选）
  - [x] 手动触发已启用

### 第三部分：GitHub 准备

- [ ] 已有 GitHub 账号
- [ ] 已在 GitHub 创建仓库
  - 仓库名建议：`rustdesk-custom`
  - 建议选择：私有仓库
- [ ] 已在本地安装 Git

### 第四部分：本地 Git 配置

- [ ] 本地已初始化 Git 仓库
  ```powershell
  git init
  ```

- [ ] 已添加所有文件
  ```powershell
  git add .
  ```

- [ ] 已提交到本地
  ```powershell
  git commit -m "添加自定义配置"
  ```

- [ ] 已添加远程仓库
  ```powershell
  git remote add origin https://github.com/你的用户名/rustdesk-custom.git
  ```

---

## 🚀 推送到 GitHub

全部准备就绪后，执行：

```powershell
git push -u origin master
```

如果推送成功，你会看到类似输出：
```
Enumerating objects: ...
Counting objects: ...
Writing objects: 100% ...
To https://github.com/你的用户名/rustdesk-custom.git
 * [new branch]      master -> master
```

---

## 🎯 在 GitHub 上触发编译

### 步骤检查清单：

- [ ] 打开 GitHub 仓库页面
- [ ] 点击顶部 **Actions** 标签
- [ ] 左侧看到 **Custom Build with Preset Config**
- [ ] 点击右侧 **Run workflow** 按钮
- [ ] 选择 **build_target**: `windows`
- [ ] 点击绿色 **Run workflow** 按钮

---

## ⏰ 等待编译

### 编译进度确认：

- [ ] 看到新的工作流运行出现
- [ ] 状态显示为黄色圆点（进行中）
- [ ] 可以点击查看实时日志

### 预计时间：
- Windows: 25-30 分钟
- Linux: 15-20 分钟

---

## 📦 下载编译结果

### 编译成功确认：

- [ ] 工作流状态变为绿色对勾 ✅
- [ ] 详情页底部出现 **Artifacts** 区域
- [ ] 看到文件：`rustdesk-windows-custom.zip`

### 下载步骤：

- [ ] 点击 Artifacts 中的文件名
- [ ] 下载到本地
- [ ] 解压缩文件

---

## 🧪 测试验证

### 基本测试：

- [ ] 解压后找到 `rustdesk-custom.exe`
- [ ] 双击运行程序
- [ ] 查看是否显示 ID

### 日志验证：

查看日志文件或控制台输出，应该包含：

- [ ] ✅ 已配置自建服务器: 39.97.50.6
- [ ] ✅ 已设置固定密码
- [ ] ✅ 已启用完全静默模式 (无人值守)
- [ ] ✅ 无人值守模式配置完成

### 连接测试：

- [ ] 在另一台电脑运行 RustDesk 主控端
- [ ] 输入被控端的 ID
- [ ] 输入密码：`28b5hD8S26`
- [ ] 验证是否无弹窗直接连接成功

### 功能测试：

- [ ] 键盘输入正常
- [ ] 鼠标控制正常
- [ ] 剪贴板同步工作
- [ ] 文件传输可用（如需要）

---

## 🎉 全部完成！

如果所有检查项都已完成，恭喜你成功编译了定制版 RustDesk！

---

## ⚠️ 如果遇到问题

### GitHub Actions 编译失败

1. 检查 Actions 日志查看具体错误
2. 确认所有代码修改正确
3. 参考 `GitHub_Actions使用指南.md`

### 下载不了 Artifacts

1. 确认已登录 GitHub
2. 私有仓库需要相应权限
3. Artifacts 保留期为 30 天

### 程序运行异常

1. 检查服务器 39.97.50.6 是否可访问
2. 查看程序日志详细错误
3. 确认配置是否生效

### 连接失败

1. 验证密码是否正确：`28b5hD8S26`
2. 检查防火墙设置
3. 确认服务器秘钥正确

---

## 📚 参考文档

遇到问题时查看：

- `定制版本_README.md` - 总体概览
- `使用GitHub_Actions编译步骤.md` - 详细步骤
- `GitHub_Actions使用指南.md` - 快速参考
- `编译和部署说明.md` - 本地编译方案
- `预设配置清单.md` - 配置详解

---

## 🔄 下次编译

如果需要修改配置后重新编译：

### 方法1：修改代码后重新推送

```powershell
# 修改 src/default_config.rs
git add src/default_config.rs
git commit -m "更新配置"
git push

# 然后再次在 GitHub Actions 上触发编译
```

### 方法2：创建新分支自动编译

```powershell
# 创建 custom-config 分支
git checkout -b custom-config
git push origin custom-config

# 以后推送到此分支会自动编译
```

---

**准备好了吗？** 

现在就开始推送代码到 GitHub 吧！ 🚀
